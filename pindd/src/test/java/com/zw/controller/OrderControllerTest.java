package com.zw.controller;

import com.google.gson.Gson;
import com.zw.domain.Order;
import org.junit.Before;
import org.junit.Test;
import org.junit.runner.RunWith;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.autoconfigure.web.servlet.AutoConfigureMockMvc;
import org.springframework.boot.test.context.SpringBootTest;
import org.springframework.http.MediaType;
import org.springframework.test.context.junit4.SpringRunner;
import org.springframework.test.context.web.WebAppConfiguration;
import org.springframework.test.web.servlet.MockMvc;
import org.springframework.test.web.servlet.request.MockMvcRequestBuilders;
import org.springframework.test.web.servlet.result.MockMvcResultHandlers;
import org.springframework.test.web.servlet.result.MockMvcResultMatchers;
import org.springframework.test.web.servlet.setup.MockMvcBuilders;
import org.springframework.web.context.WebApplicationContext;



/**
 * Created by zouwei on 2018/12/4.
 */
@RunWith(SpringRunner.class)
@SpringBootTest
@AutoConfigureMockMvc
@WebAppConfiguration
public class OrderControllerTest {
    @Autowired
    private MockMvc mvc;

    @Autowired
    protected WebApplicationContext wac;

    @Before()  //这个方法在每个方法执行之前都会执行一遍
    public void setup() {
        mvc = MockMvcBuilders.webAppContextSetup(wac).build();  //初始化MockMvc对象
    }

    @Test
    public void addOrder() throws Exception {
        String orders="{\"success\":true,\"errorCode\":1000000,\"errorMsg\":null,\"result\":{\"totalItemNum\":13,\"pageItems\":[{\"order_sn\":\"190518-175370732393846\",\"order_id\":\"763175370732393846\",\"group_order_id\":\"762544900056092499\",\"mall_id\":977197566,\"uid\":0,\"order_time\":1558171139,\"confirm_time\":1558171151,\"group_time\":1558171151,\"pay_time\":1558171151,\"shipping_time\":1558185215,\"order_amount\":48800,\"service_amount\":0,\"shipping_amount\":0,\"discount_amount\":0,\"goods_amount\":48800,\"customer_num\":2,\"status\":3,\"order_status\":1,\"group_status\":1,\"pay_status\":2,\"shipping_status\":1,\"lucky_status\":0,\"shipping_id\":180,\"receive_name\":\"郭大平\",\"mobile\":null,\"province_id\":25,\"province_name\":\"上海市\",\"city_id\":321,\"city_name\":\"上海市\",\"district_id\":2707,\"district_name\":\"浦东新区\",\"shipping_address\":\"周家渡街道南码头路1186弄20号502室，\",\"type\":0,\"biz_type\":0,\"event_type\":0,\"trade_type\":0,\"order_attributes\":\"\",\"created_at\":1558171139,\"goods_id\":5043300020,\"goods_name\":\"道瑞斯 席梦思床垫1.5米1.8米 天然环保椰棕乳胶弹簧床垫20cm加厚\",\"goods_price\":48800,\"goods_number\":1,\"goods_type\":1,\"cat_id_3\":10487,\"sku_id\":140925079193,\"spec\":\"礼恩派弹簧+环保棕+回弹海绵,900*1900\",\"thumb_url\":\"https://t00img.yangkeduo.com/goods/images/2019-01-08/f2f65ec1-ecbf-40e1-b7f9-2d590d8cffe7.jpg\",\"is_pre_sale\":null,\"out_sku_sn\":\"\",\"out_goods_sn\":\"\",\"delivery_one_day\":null,\"promise_shipping_time\":1565947151,\"buyer_memo\":\"\",\"remark_status\":0,\"after_sales_id\":null,\"after_sales_status\":null,\"pre_delivery_status\":null,\"got_timeout_status\":null,\"track_update_timeout_status\":null,\"send_timeout_status\":null,\"stockout_source_type\":null,\"order_handle_status\":null,\"expire_time\":null,\"payment_start_time\":null,\"payment_end_time\":null,\"step_pay_orders\":null,\"nickname\":\"**\",\"avatar\":\"http://t20img.yangkeduo.com/a/cc71408febb1184e62eddccf8e937d2747c4b8bd-1544069905?imageMogr2/thumbnail/10x/blur/50x50\",\"favorite_status\":true,\"is_exist_fine_info\":0,\"total_discount\":0,\"platform_discount\":0,\"merchant_discount\":0,\"event_discount\":0,\"home_install_value\":0,\"delivery_home_value\":0,\"delivery_install_value\":0,\"use_single_group_card\":false,\"success_time\":null,\"send_single_group_card\":0,\"risk_status\":null,\"urge_shipping_time\":null,\"is_ota_virtual_card\":false},{\"order_sn\":\"190517-544900056092499\",\"order_id\":\"762544900056092499\",\"group_order_id\":\"762544900056092499\",\"mall_id\":977197566,\"uid\":0,\"order_time\":1558098462,\"confirm_time\":1558171151,\"group_time\":1558171151,\"pay_time\":1558098469,\"shipping_time\":1558185242,\"order_amount\":86800,\"service_amount\":0,\"shipping_amount\":0,\"discount_amount\":0,\"goods_amount\":86800,\"customer_num\":2,\"status\":3,\"order_status\":1,\"group_status\":1,\"pay_status\":2,\"shipping_status\":1,\"lucky_status\":0,\"shipping_id\":180,\"receive_name\":\"孙文\",\"mobile\":null,\"province_id\":22,\"province_name\":\"山东省\",\"city_id\":292,\"city_name\":\"临沂市\",\"district_id\":2415,\"district_name\":\"费县\",\"shipping_address\":\"瑞景花苑3栋305室\",\"type\":0,\"biz_type\":0,\"event_type\":0,\"trade_type\":0,\"order_attributes\":\"\",\"created_at\":1558098462,\"goods_id\":5043300020,\"goods_name\":\"道瑞斯 席梦思床垫1.5米1.8米 天然环保椰棕乳胶弹簧床垫20cm加厚\",\"goods_price\":86800,\"goods_number\":1,\"goods_type\":1,\"cat_id_3\":10487,\"sku_id\":140930104038,\"spec\":\"静音圆簧+3E棕+贝卡特针织+乳胶,1200*1900\",\"thumb_url\":\"https://t00img.yangkeduo.com/goods/images/2019-01-07/99857bea-2485-46fc-9ee7-2e6aba394425.jpg\",\"is_pre_sale\":null,\"out_sku_sn\":\"\",\"out_goods_sn\":\"\",\"delivery_one_day\":null,\"promise_shipping_time\":1565947151,\"buyer_memo\":\"\",\"remark_status\":0,\"after_sales_id\":null,\"after_sales_status\":null,\"pre_delivery_status\":null,\"got_timeout_status\":null,\"track_update_timeout_status\":null,\"send_timeout_status\":null,\"stockout_source_type\":null,\"order_handle_status\":null,\"expire_time\":null,\"payment_start_time\":null,\"payment_end_time\":null,\"step_pay_orders\":null,\"nickname\":\"静**言\",\"avatar\":\"http://t20img.yangkeduo.com/a/800317087cc7887eb9fb55c71a9be339c27cc500-1535856722?imageMogr2/thumbnail/10x/blur/50x50\",\"favorite_status\":false,\"is_exist_fine_info\":0,\"total_discount\":0,\"platform_discount\":0,\"merchant_discount\":0,\"event_discount\":0,\"home_install_value\":null,\"delivery_home_value\":null,\"delivery_install_value\":null,\"use_single_group_card\":false,\"success_time\":null,\"send_single_group_card\":0,\"risk_status\":null,\"urge_shipping_time\":null,\"is_ota_virtual_card\":false},{\"order_sn\":\"190517-067739976390442\",\"order_id\":\"762067739976390442\",\"group_order_id\":\"762067739976390442\",\"mall_id\":977197566,\"uid\":0,\"order_time\":1558068944,\"confirm_time\":1558155293,\"group_time\":1558155293,\"pay_time\":1558068952,\"shipping_time\":1558185189,\"order_amount\":63800,\"service_amount\":0,\"shipping_amount\":0,\"discount_amount\":0,\"goods_amount\":63800,\"customer_num\":2,\"status\":3,\"order_status\":1,\"group_status\":1,\"pay_status\":2,\"shipping_status\":1,\"lucky_status\":0,\"shipping_id\":180,\"receive_name\":\"张浔\",\"mobile\":null,\"province_id\":6,\"province_name\":\"广东省\",\"city_id\":77,\"city_name\":\"深圳市\",\"district_id\":3732,\"district_name\":\"龙华区\",\"shipping_address\":\"龙华街道高坳新村138栋菜鸟驿站\",\"type\":0,\"biz_type\":0,\"event_type\":0,\"trade_type\":0,\"order_attributes\":\"\",\"created_at\":1558068944,\"goods_id\":5043300020,\"goods_name\":\"道瑞斯 席梦思床垫1.5米1.8米 天然环保椰棕乳胶弹簧床垫20cm加厚\",\"goods_price\":63800,\"goods_number\":1,\"goods_type\":1,\"cat_id_3\":10487,\"sku_id\":140925079197,\"spec\":\"礼恩派弹簧+环保棕+回弹海绵,1500*1900\",\"thumb_url\":\"https://t00img.yangkeduo.com/goods/images/2019-01-08/f2f65ec1-ecbf-40e1-b7f9-2d590d8cffe7.jpg\",\"is_pre_sale\":null,\"out_sku_sn\":\"\",\"out_goods_sn\":\"\",\"delivery_one_day\":null,\"promise_shipping_time\":1565931293,\"buyer_memo\":\"\",\"remark_status\":0,\"after_sales_id\":null,\"after_sales_status\":null,\"pre_delivery_status\":null,\"got_timeout_status\":null,\"track_update_timeout_status\":null,\"send_timeout_status\":null,\"stockout_source_type\":null,\"order_handle_status\":null,\"expire_time\":null,\"payment_start_time\":null,\"payment_end_time\":null,\"step_pay_orders\":null,\"nickname\":\"万**始\",\"avatar\":\"http://t20img.yangkeduo.com/a/110a855f129c30cce7f374a8087b18d987fc62e7-1557194894?imageMogr2/thumbnail/10x/blur/50x50\",\"favorite_status\":true,\"is_exist_fine_info\":0,\"total_discount\":0,\"platform_discount\":0,\"merchant_discount\":0,\"event_discount\":0,\"home_install_value\":0,\"delivery_home_value\":0,\"delivery_install_value\":0,\"use_single_group_card\":true,\"success_time\":null,\"send_single_group_card\":0,\"risk_status\":null,\"urge_shipping_time\":null,\"is_ota_virtual_card\":false},{\"order_sn\":\"190517-129109197690442\",\"order_id\":\"762129109197690442\",\"group_order_id\":\"762129109197690442\",\"mall_id\":977197566,\"uid\":0,\"order_time\":1558068811,\"confirm_time\":1558105608,\"group_time\":1558105608,\"pay_time\":1558068823,\"shipping_time\":1558185282,\"order_amount\":98800,\"service_amount\":0,\"shipping_amount\":0,\"discount_amount\":0,\"goods_amount\":98800,\"customer_num\":2,\"status\":3,\"order_status\":1,\"group_status\":1,\"pay_status\":2,\"shipping_status\":1,\"lucky_status\":0,\"shipping_id\":180,\"receive_name\":\"张浔\",\"mobile\":null,\"province_id\":6,\"province_name\":\"广东省\",\"city_id\":77,\"city_name\":\"深圳市\",\"district_id\":3732,\"district_name\":\"龙华区\",\"shipping_address\":\"龙华街道高坳新村138栋菜鸟驿站\",\"type\":0,\"biz_type\":0,\"event_type\":0,\"trade_type\":0,\"order_attributes\":\"\",\"created_at\":1558068811,\"goods_id\":5043300020,\"goods_name\":\"道瑞斯 席梦思床垫1.5米1.8米 天然环保椰棕乳胶弹簧床垫20cm加厚\",\"goods_price\":98800,\"goods_number\":1,\"goods_type\":1,\"cat_id_3\":10487,\"sku_id\":140930104043,\"spec\":\"静音圆簧+3E棕+贝卡特针织+乳胶,1800*2000\",\"thumb_url\":\"https://t00img.yangkeduo.com/goods/images/2019-01-07/99857bea-2485-46fc-9ee7-2e6aba394425.jpg\",\"is_pre_sale\":null,\"out_sku_sn\":\"\",\"out_goods_sn\":\"\",\"delivery_one_day\":null,\"promise_shipping_time\":1565881608,\"buyer_memo\":\"\",\"remark_status\":0,\"after_sales_id\":null,\"after_sales_status\":null,\"pre_delivery_status\":null,\"got_timeout_status\":null,\"track_update_timeout_status\":null,\"send_timeout_status\":null,\"stockout_source_type\":null,\"order_handle_status\":null,\"expire_time\":null,\"payment_start_time\":null,\"payment_end_time\":null,\"step_pay_orders\":null,\"nickname\":\"万**始\",\"avatar\":\"http://t20img.yangkeduo.com/a/110a855f129c30cce7f374a8087b18d987fc62e7-1557194894?imageMogr2/thumbnail/10x/blur/50x50\",\"favorite_status\":true,\"is_exist_fine_info\":0,\"total_discount\":0,\"platform_discount\":0,\"merchant_discount\":0,\"event_discount\":0,\"home_install_value\":0,\"delivery_home_value\":0,\"delivery_install_value\":0,\"use_single_group_card\":false,\"success_time\":null,\"send_single_group_card\":0,\"risk_status\":null,\"urge_shipping_time\":null,\"is_ota_virtual_card\":false},{\"order_sn\":\"190517-384245597072339\",\"order_id\":\"762384245597072339\",\"group_order_id\":\"762129109197690442\",\"mall_id\":977197566,\"uid\":0,\"order_time\":1558105590,\"confirm_time\":1558105608,\"group_time\":1558105608,\"pay_time\":1558105608,\"shipping_time\":1558185159,\"order_amount\":80000,\"service_amount\":0,\"shipping_amount\":0,\"discount_amount\":0,\"goods_amount\":80000,\"customer_num\":2,\"status\":3,\"order_status\":1,\"group_status\":1,\"pay_status\":2,\"shipping_status\":1,\"lucky_status\":0,\"shipping_id\":180,\"receive_name\":\"潘玉仙\",\"mobile\":null,\"province_id\":6,\"province_name\":\"广东省\",\"city_id\":76,\"city_name\":\"广州市\",\"district_id\":693,\"district_name\":\"天河区\",\"shipping_address\":\"天河南路203号\",\"type\":0,\"biz_type\":0,\"event_type\":0,\"trade_type\":0,\"order_attributes\":\"\",\"created_at\":1558105590,\"goods_id\":5043300020,\"goods_name\":\"道瑞斯 席梦思床垫1.5米1.8米 天然环保椰棕乳胶弹簧床垫20cm加厚\",\"goods_price\":80000,\"goods_number\":1,\"goods_type\":1,\"cat_id_3\":10487,\"sku_id\":140928767970,\"spec\":\"礼恩派弹簧+3E棕+贝卡特针织,1800*2000\",\"thumb_url\":\"https://t00img.yangkeduo.com/goods/images/2019-01-07/72c11e8b-db26-45c3-9062-3aa416c21471.jpg\",\"is_pre_sale\":null,\"out_sku_sn\":\"\",\"out_goods_sn\":\"\",\"delivery_one_day\":null,\"promise_shipping_time\":1565881608,\"buyer_memo\":\"\",\"remark_status\":0,\"after_sales_id\":null,\"after_sales_status\":null,\"pre_delivery_status\":null,\"got_timeout_status\":null,\"track_update_timeout_status\":null,\"send_timeout_status\":null,\"stockout_source_type\":null,\"order_handle_status\":null,\"expire_time\":null,\"payment_start_time\":null,\"payment_end_time\":null,\"step_pay_orders\":null,\"nickname\":\"f*******u\",\"avatar\":\"http://t20img.yangkeduo.com/a/e8b8b192e17e482cf9d6a56d006f95e294de7f34-1556043886?imageMogr2/thumbnail/10x/blur/50x50\",\"favorite_status\":true,\"is_exist_fine_info\":0,\"total_discount\":0,\"platform_discount\":0,\"merchant_discount\":0,\"event_discount\":0,\"home_install_value\":0,\"delivery_home_value\":0,\"delivery_install_value\":0,\"use_single_group_card\":false,\"success_time\":null,\"send_single_group_card\":0,\"risk_status\":null,\"urge_shipping_time\":null,\"is_ota_virtual_card\":false},{\"order_sn\":\"190516-431670068351570\",\"order_id\":\"761431670068351570\",\"group_order_id\":\"761431670068351570\",\"mall_id\":977197566,\"uid\":0,\"order_time\":1558015770,\"confirm_time\":1558102119,\"group_time\":1558102119,\"pay_time\":1558015778,\"shipping_time\":1558185135,\"order_amount\":48800,\"service_amount\":0,\"shipping_amount\":0,\"discount_amount\":0,\"goods_amount\":48800,\"customer_num\":2,\"status\":3,\"order_status\":1,\"group_status\":1,\"pay_status\":2,\"shipping_status\":1,\"lucky_status\":0,\"shipping_id\":180,\"receive_name\":\"宁卫平\",\"mobile\":null,\"province_id\":11,\"province_name\":\"河南省\",\"city_id\":151,\"city_name\":\"开封市\",\"district_id\":1284,\"district_name\":\"龙亭区\",\"shipping_address\":\"东京大道龙翔香格里拉12号楼4单元\",\"type\":0,\"biz_type\":0,\"event_type\":0,\"trade_type\":0,\"order_attributes\":\"\",\"created_at\":1558015770,\"goods_id\":5043300020,\"goods_name\":\"道瑞斯 席梦思床垫1.5米1.8米 天然环保椰棕乳胶弹簧床垫20cm加厚\",\"goods_price\":48800,\"goods_number\":1,\"goods_type\":1,\"cat_id_3\":10487,\"sku_id\":140925079193,\"spec\":\"礼恩派弹簧+环保棕+回弹海绵,900*1900\",\"thumb_url\":\"https://t00img.yangkeduo.com/goods/images/2019-01-08/f2f65ec1-ecbf-40e1-b7f9-2d590d8cffe7.jpg\",\"is_pre_sale\":null,\"out_sku_sn\":\"\",\"out_goods_sn\":\"\",\"delivery_one_day\":null,\"promise_shipping_time\":1565878119,\"buyer_memo\":\"\",\"remark_status\":0,\"after_sales_id\":null,\"after_sales_status\":null,\"pre_delivery_status\":null,\"got_timeout_status\":null,\"track_update_timeout_status\":null,\"send_timeout_status\":null,\"stockout_source_type\":null,\"order_handle_status\":null,\"expire_time\":null,\"payment_start_time\":null,\"payment_end_time\":null,\"step_pay_orders\":null,\"nickname\":\"小***物\",\"avatar\":\"http://t20img.yangkeduo.com/a/7c8305bdeb82d2a19965082e70ae66ed5a01c187-1551243719?imageMogr2/thumbnail/10x/blur/50x50\",\"favorite_status\":false,\"is_exist_fine_info\":0,\"total_discount\":0,\"platform_discount\":0,\"merchant_discount\":0,\"event_discount\":0,\"home_install_value\":0,\"delivery_home_value\":0,\"delivery_install_value\":0,\"use_single_group_card\":true,\"success_time\":null,\"send_single_group_card\":0,\"risk_status\":null,\"urge_shipping_time\":null,\"is_ota_virtual_card\":false},{\"order_sn\":\"190516-580836066031290\",\"order_id\":\"761580836066031290\",\"group_order_id\":\"761580836066031290\",\"mall_id\":977197566,\"uid\":0,\"order_time\":1558001827,\"confirm_time\":1558088176,\"group_time\":1558088176,\"pay_time\":1558001835,\"shipping_time\":1558185112,\"order_amount\":48800,\"service_amount\":0,\"shipping_amount\":0,\"discount_amount\":0,\"goods_amount\":48800,\"customer_num\":2,\"status\":3,\"order_status\":1,\"group_status\":1,\"pay_status\":2,\"shipping_status\":1,\"lucky_status\":0,\"shipping_id\":180,\"receive_name\":\"詹伟华\",\"mobile\":null,\"province_id\":31,\"province_name\":\"浙江省\",\"city_id\":386,\"city_name\":\"金华市\",\"district_id\":3409,\"district_name\":\"义乌市\",\"shipping_address\":\"佛堂镇玉兰路10号\",\"type\":0,\"biz_type\":0,\"event_type\":0,\"trade_type\":0,\"order_attributes\":\"\",\"created_at\":1558001827,\"goods_id\":5043300020,\"goods_name\":\"道瑞斯 席梦思床垫1.5米1.8米 天然环保椰棕乳胶弹簧床垫20cm加厚\",\"goods_price\":48800,\"goods_number\":1,\"goods_type\":1,\"cat_id_3\":10487,\"sku_id\":140925079193,\"spec\":\"礼恩派弹簧+环保棕+回弹海绵,900*1900\",\"thumb_url\":\"https://t00img.yangkeduo.com/goods/images/2019-01-08/f2f65ec1-ecbf-40e1-b7f9-2d590d8cffe7.jpg\",\"is_pre_sale\":null,\"out_sku_sn\":\"\",\"out_goods_sn\":\"\",\"delivery_one_day\":null,\"promise_shipping_time\":1565864176,\"buyer_memo\":\"\",\"remark_status\":0,\"after_sales_id\":null,\"after_sales_status\":null,\"pre_delivery_status\":null,\"got_timeout_status\":null,\"track_update_timeout_status\":null,\"send_timeout_status\":null,\"stockout_source_type\":null,\"order_handle_status\":null,\"expire_time\":null,\"payment_start_time\":null,\"payment_end_time\":null,\"step_pay_orders\":null,\"nickname\":\"溪**流\",\"avatar\":\"http://t20img.yangkeduo.com/a/31f6560727d28bf2235e580d983631362fcfeaab-1556607899?imageMogr2/thumbnail/10x/blur/50x50\",\"favorite_status\":true,\"is_exist_fine_info\":0,\"total_discount\":0,\"platform_discount\":0,\"merchant_discount\":0,\"event_discount\":0,\"home_install_value\":0,\"delivery_home_value\":0,\"delivery_install_value\":0,\"use_single_group_card\":true,\"success_time\":null,\"send_single_group_card\":0,\"risk_status\":null,\"urge_shipping_time\":null,\"is_ota_virtual_card\":false},{\"order_sn\":\"190516-434934252411571\",\"order_id\":\"761434934252411571\",\"group_order_id\":\"761434934252411571\",\"mall_id\":977197566,\"uid\":0,\"order_time\":1557990342,\"confirm_time\":1558076695,\"group_time\":1558076695,\"pay_time\":1557990354,\"shipping_time\":1558185081,\"order_amount\":92800,\"service_amount\":0,\"shipping_amount\":0,\"discount_amount\":0,\"goods_amount\":92800,\"customer_num\":2,\"status\":3,\"order_status\":1,\"group_status\":1,\"pay_status\":2,\"shipping_status\":1,\"lucky_status\":0,\"shipping_id\":180,\"receive_name\":\"达旺嘉\",\"mobile\":null,\"province_id\":4,\"province_name\":\"福建省\",\"city_id\":56,\"city_name\":\"宁德市\",\"district_id\":549,\"district_name\":\"福安市\",\"shipping_address\":\"凯兴大厦金源财务公司1101\",\"type\":0,\"biz_type\":0,\"event_type\":0,\"trade_type\":0,\"order_attributes\":\"\",\"created_at\":1557990342,\"goods_id\":5043300020,\"goods_name\":\"道瑞斯 席梦思床垫1.5米1.8米 天然环保椰棕乳胶弹簧床垫20cm加厚\",\"goods_price\":92800,\"goods_number\":1,\"goods_type\":1,\"cat_id_3\":10487,\"sku_id\":140930104041,\"spec\":\"静音圆簧+3E棕+贝卡特针织+乳胶,1500*2000\",\"thumb_url\":\"https://t00img.yangkeduo.com/goods/images/2019-01-07/99857bea-2485-46fc-9ee7-2e6aba394425.jpg\",\"is_pre_sale\":null,\"out_sku_sn\":\"\",\"out_goods_sn\":\"\",\"delivery_one_day\":null,\"promise_shipping_time\":1565852695,\"buyer_memo\":\"\",\"remark_status\":0,\"after_sales_id\":null,\"after_sales_status\":null,\"pre_delivery_status\":null,\"got_timeout_status\":null,\"track_update_timeout_status\":null,\"send_timeout_status\":null,\"stockout_source_type\":null,\"order_handle_status\":null,\"expire_time\":null,\"payment_start_time\":null,\"payment_end_time\":null,\"step_pay_orders\":null,\"nickname\":\"A******椅\",\"avatar\":\"http://t20img.yangkeduo.com/a/8678322522d1db0632e44d1d16f638e1bc5908c8-1555891520?imageMogr2/thumbnail/10x/blur/50x50\",\"favorite_status\":true,\"is_exist_fine_info\":0,\"total_discount\":0,\"platform_discount\":0,\"merchant_discount\":0,\"event_discount\":0,\"home_install_value\":null,\"delivery_home_value\":null,\"delivery_install_value\":null,\"use_single_group_card\":true,\"success_time\":null,\"send_single_group_card\":0,\"risk_status\":null,\"urge_shipping_time\":null,\"is_ota_virtual_card\":false},{\"order_sn\":\"190516-379196539651681\",\"order_id\":\"761379196539651681\",\"group_order_id\":\"761379196539651681\",\"mall_id\":977197566,\"uid\":0,\"order_time\":1557974615,\"confirm_time\":1558061105,\"group_time\":1558061105,\"pay_time\":1557974764,\"shipping_time\":1558185053,\"order_amount\":65000,\"service_amount\":0,\"shipping_amount\":0,\"discount_amount\":0,\"goods_amount\":65000,\"customer_num\":2,\"status\":3,\"order_status\":1,\"group_status\":1,\"pay_status\":2,\"shipping_status\":1,\"lucky_status\":0,\"shipping_id\":180,\"receive_name\":\"杨丙祥\",\"mobile\":null,\"province_id\":11,\"province_name\":\"河南省\",\"city_id\":149,\"city_name\":\"郑州市\",\"district_id\":1253,\"district_name\":\"二七区\",\"shipping_address\":\"南屏路金牛水岸国际二号楼三单元四楼东户\",\"type\":0,\"biz_type\":0,\"event_type\":0,\"trade_type\":0,\"order_attributes\":\"\",\"created_at\":1557974615,\"goods_id\":5043300020,\"goods_name\":\"道瑞斯 席梦思床垫1.5米1.8米 天然环保椰棕乳胶弹簧床垫20cm加厚\",\"goods_price\":65000,\"goods_number\":1,\"goods_type\":1,\"cat_id_3\":10487,\"sku_id\":140928767963,\"spec\":\"礼恩派弹簧+3E棕+贝卡特针织,900*1900\",\"thumb_url\":\"https://t00img.yangkeduo.com/goods/images/2019-01-07/72c11e8b-db26-45c3-9062-3aa416c21471.jpg\",\"is_pre_sale\":null,\"out_sku_sn\":\"\",\"out_goods_sn\":\"\",\"delivery_one_day\":null,\"promise_shipping_time\":1565837105,\"buyer_memo\":\"\",\"remark_status\":0,\"after_sales_id\":null,\"after_sales_status\":null,\"pre_delivery_status\":null,\"got_timeout_status\":null,\"track_update_timeout_status\":null,\"send_timeout_status\":null,\"stockout_source_type\":null,\"order_handle_status\":null,\"expire_time\":null,\"payment_start_time\":null,\"payment_end_time\":null,\"step_pay_orders\":null,\"nickname\":\"杨*祥\",\"avatar\":\"http://t20img.yangkeduo.com/a/3605a247d462d5a18e832b547526b5ad689ff312-1555113551?imageMogr2/thumbnail/10x/blur/50x50\",\"favorite_status\":false,\"is_exist_fine_info\":0,\"total_discount\":0,\"platform_discount\":0,\"merchant_discount\":0,\"event_discount\":0,\"home_install_value\":0,\"delivery_home_value\":0,\"delivery_install_value\":0,\"use_single_group_card\":true,\"success_time\":null,\"send_single_group_card\":0,\"risk_status\":null,\"urge_shipping_time\":null,\"is_ota_virtual_card\":false},{\"order_sn\":\"190516-571779974071571\",\"order_id\":\"761571779974071571\",\"group_order_id\":\"761515109684151846\",\"mall_id\":977197566,\"uid\":0,\"order_time\":1557990439,\"confirm_time\":1557990447,\"group_time\":1557990447,\"pay_time\":1557990447,\"shipping_time\":1558016414,\"order_amount\":77800,\"service_amount\":0,\"shipping_amount\":0,\"discount_amount\":0,\"goods_amount\":77800,\"customer_num\":2,\"status\":3,\"order_status\":1,\"group_status\":1,\"pay_status\":2,\"shipping_status\":1,\"lucky_status\":0,\"shipping_id\":180,\"receive_name\":\"达旺嘉\",\"mobile\":null,\"province_id\":4,\"province_name\":\"福建省\",\"city_id\":56,\"city_name\":\"宁德市\",\"district_id\":549,\"district_name\":\"福安市\",\"shipping_address\":\"凯兴大厦金源财务公司1101\",\"type\":0,\"biz_type\":0,\"event_type\":0,\"trade_type\":0,\"order_attributes\":\"\",\"created_at\":1557990439,\"goods_id\":5043300020,\"goods_name\":\"道瑞斯 席梦思床垫1.5米1.8米 天然环保椰棕乳胶弹簧床垫20cm加厚\",\"goods_price\":77800,\"goods_number\":1,\"goods_type\":1,\"cat_id_3\":10487,\"sku_id\":140928767968,\"spec\":\"礼恩派弹簧+3E棕+贝卡特针织,1500*2000\",\"thumb_url\":\"https://t00img.yangkeduo.com/goods/images/2019-01-07/72c11e8b-db26-45c3-9062-3aa416c21471.jpg\",\"is_pre_sale\":null,\"out_sku_sn\":\"\",\"out_goods_sn\":\"\",\"delivery_one_day\":null,\"promise_shipping_time\":1565766447,\"buyer_memo\":\"\",\"remark_status\":0,\"after_sales_id\":null,\"after_sales_status\":null,\"pre_delivery_status\":null,\"got_timeout_status\":null,\"track_update_timeout_status\":null,\"send_timeout_status\":null,\"stockout_source_type\":null,\"order_handle_status\":null,\"expire_time\":null,\"payment_start_time\":null,\"payment_end_time\":null,\"step_pay_orders\":null,\"nickname\":\"A******椅\",\"avatar\":\"http://t20img.yangkeduo.com/a/8678322522d1db0632e44d1d16f638e1bc5908c8-1555891520?imageMogr2/thumbnail/10x/blur/50x50\",\"favorite_status\":true,\"is_exist_fine_info\":0,\"total_discount\":0,\"platform_discount\":0,\"merchant_discount\":0,\"event_discount\":0,\"home_install_value\":null,\"delivery_home_value\":null,\"delivery_install_value\":null,\"use_single_group_card\":false,\"success_time\":null,\"send_single_group_card\":0,\"risk_status\":null,\"urge_shipping_time\":null,\"is_ota_virtual_card\":false},{\"order_sn\":\"190516-515109684151846\",\"order_id\":\"761515109684151846\",\"group_order_id\":\"761515109684151846\",\"mall_id\":977197566,\"uid\":0,\"order_time\":1557982991,\"confirm_time\":1557990447,\"group_time\":1557990447,\"pay_time\":1557982998,\"shipping_time\":1558016436,\"order_amount\":77800,\"service_amount\":0,\"shipping_amount\":0,\"discount_amount\":0,\"goods_amount\":77800,\"customer_num\":2,\"status\":3,\"order_status\":1,\"group_status\":1,\"pay_status\":2,\"shipping_status\":1,\"lucky_status\":0,\"shipping_id\":180,\"receive_name\":\"单露瑶\",\"mobile\":null,\"province_id\":31,\"province_name\":\"浙江省\",\"city_id\":390,\"city_name\":\"台州市\",\"district_id\":3300,\"district_name\":\"临海市\",\"shipping_address\":\"杜桥镇西堑村2-79\",\"type\":0,\"biz_type\":0,\"event_type\":0,\"trade_type\":0,\"order_attributes\":\"\",\"created_at\":1557982991,\"goods_id\":5043300020,\"goods_name\":\"道瑞斯 席梦思床垫1.5米1.8米 天然环保椰棕乳胶弹簧床垫20cm加厚\",\"goods_price\":77800,\"goods_number\":1,\"goods_type\":1,\"cat_id_3\":10487,\"sku_id\":140928767967,\"spec\":\"礼恩派弹簧+3E棕+贝卡特针织,1500*1900\",\"thumb_url\":\"https://t00img.yangkeduo.com/goods/images/2019-01-07/72c11e8b-db26-45c3-9062-3aa416c21471.jpg\",\"is_pre_sale\":null,\"out_sku_sn\":\"\",\"out_goods_sn\":\"\",\"delivery_one_day\":null,\"promise_shipping_time\":1565766447,\"buyer_memo\":\"\",\"remark_status\":0,\"after_sales_id\":null,\"after_sales_status\":null,\"pre_delivery_status\":null,\"got_timeout_status\":null,\"track_update_timeout_status\":null,\"send_timeout_status\":null,\"stockout_source_type\":null,\"order_handle_status\":null,\"expire_time\":null,\"payment_start_time\":null,\"payment_end_time\":null,\"step_pay_orders\":null,\"nickname\":\"不*呢\",\"avatar\":\"http://t20img.yangkeduo.com/a/00c652501039a3c3162d9df2c81ed623dbb3c014-1553563284?imageMogr2/thumbnail/10x/blur/50x50\",\"favorite_status\":true,\"is_exist_fine_info\":0,\"total_discount\":0,\"platform_discount\":0,\"merchant_discount\":0,\"event_discount\":0,\"home_install_value\":null,\"delivery_home_value\":null,\"delivery_install_value\":null,\"use_single_group_card\":false,\"success_time\":null,\"send_single_group_card\":0,\"risk_status\":null,\"urge_shipping_time\":null,\"is_ota_virtual_card\":false},{\"order_sn\":\"190515-230917735551674\",\"order_id\":\"760230917735551674\",\"group_order_id\":\"760539563787232892\",\"mall_id\":977197566,\"uid\":0,\"order_time\":1557912356,\"confirm_time\":1557912365,\"group_time\":1557912365,\"pay_time\":1557912365,\"shipping_time\":1558016388,\"order_amount\":82400,\"service_amount\":0,\"shipping_amount\":0,\"discount_amount\":0,\"goods_amount\":82400,\"customer_num\":2,\"status\":3,\"order_status\":1,\"group_status\":1,\"pay_status\":2,\"shipping_status\":1,\"lucky_status\":0,\"shipping_id\":180,\"receive_name\":\"郭宇轩\",\"mobile\":null,\"province_id\":4,\"province_name\":\"福建省\",\"city_id\":57,\"city_name\":\"莆田市\",\"district_id\":560,\"district_name\":\"秀屿区\",\"shipping_address\":\"东峤镇梁村3组56号\",\"type\":0,\"biz_type\":0,\"event_type\":0,\"trade_type\":0,\"order_attributes\":\"\",\"created_at\":1557912356,\"goods_id\":5043300020,\"goods_name\":\"道瑞斯 席梦思床垫1.5米1.8米 天然环保椰棕乳胶弹簧床垫20cm加厚\",\"goods_price\":82400,\"goods_number\":1,\"goods_type\":1,\"cat_id_3\":10487,\"sku_id\":140930104038,\"spec\":\"静音圆簧+3E棕+贝卡特针织+乳胶,1200*1900\",\"thumb_url\":\"https://t00img.yangkeduo.com/goods/images/2019-01-07/99857bea-2485-46fc-9ee7-2e6aba394425.jpg\",\"is_pre_sale\":null,\"out_sku_sn\":\"\",\"out_goods_sn\":\"\",\"delivery_one_day\":null,\"promise_shipping_time\":1565688365,\"buyer_memo\":\"\",\"remark_status\":0,\"after_sales_id\":null,\"after_sales_status\":null,\"pre_delivery_status\":null,\"got_timeout_status\":null,\"track_update_timeout_status\":null,\"send_timeout_status\":null,\"stockout_source_type\":null,\"order_handle_status\":null,\"expire_time\":null,\"payment_start_time\":0,\"payment_end_time\":null,\"step_pay_orders\":null,\"nickname\":\"y****u\",\"avatar\":\"http://t20img.yangkeduo.com/a/705aa0ca8c43670108abdb16cdefe1b730ac251f-1528261184?imageMogr2/thumbnail/10x/blur/50x50\",\"favorite_status\":true,\"is_exist_fine_info\":0,\"total_discount\":0,\"platform_discount\":0,\"merchant_discount\":0,\"event_discount\":0,\"home_install_value\":0,\"delivery_home_value\":0,\"delivery_install_value\":0,\"use_single_group_card\":false,\"success_time\":null,\"send_single_group_card\":0,\"risk_status\":null,\"urge_shipping_time\":null,\"is_ota_virtual_card\":false},{\"order_sn\":\"190514-494992425930033\",\"order_id\":\"759494992425930033\",\"group_order_id\":\"759617924526930859\",\"mall_id\":977197566,\"uid\":0,\"order_time\":1557828499,\"confirm_time\":1557828506,\"group_time\":1557828506,\"pay_time\":1557828506,\"shipping_time\":1557845065,\"order_amount\":82400,\"service_amount\":0,\"shipping_amount\":0,\"discount_amount\":0,\"goods_amount\":82400,\"customer_num\":2,\"status\":3,\"order_status\":1,\"group_status\":1,\"pay_status\":2,\"shipping_status\":1,\"lucky_status\":0,\"shipping_id\":180,\"receive_name\":\"杨红\",\"mobile\":null,\"province_id\":26,\"province_name\":\"四川省\",\"city_id\":334,\"city_name\":\"南充市\",\"district_id\":2856,\"district_name\":\"蓬安县\",\"shipping_address\":\"北街12号惠民小区\",\"type\":0,\"biz_type\":0,\"event_type\":0,\"trade_type\":0,\"order_attributes\":\"\",\"created_at\":1557828499,\"goods_id\":5043300020,\"goods_name\":\"道瑞斯 席梦思床垫1.5米1.8米 天然环保椰棕乳胶弹簧床垫20cm加厚\",\"goods_price\":82400,\"goods_number\":1,\"goods_type\":1,\"cat_id_3\":10487,\"sku_id\":140930104039,\"spec\":\"静音圆簧+3E棕+贝卡特针织+乳胶,1200*2000\",\"thumb_url\":\"https://t00img.yangkeduo.com/goods/images/2019-01-07/99857bea-2485-46fc-9ee7-2e6aba394425.jpg\",\"is_pre_sale\":null,\"out_sku_sn\":\"\",\"out_goods_sn\":\"\",\"delivery_one_day\":null,\"promise_shipping_time\":1565604506,\"buyer_memo\":\"\",\"remark_status\":0,\"after_sales_id\":null,\"after_sales_status\":null,\"pre_delivery_status\":null,\"got_timeout_status\":null,\"track_update_timeout_status\":null,\"send_timeout_status\":null,\"stockout_source_type\":null,\"order_handle_status\":null,\"expire_time\":null,\"payment_start_time\":0,\"payment_end_time\":null,\"step_pay_orders\":null,\"nickname\":\"妹**美\",\"avatar\":\"http://t20img.yangkeduo.com/a/21c486c254318903f937019ce286af166246d2a4-1532765532?imageMogr2/thumbnail/10x/blur/50x50\",\"favorite_status\":false,\"is_exist_fine_info\":0,\"total_discount\":0,\"platform_discount\":0,\"merchant_discount\":0,\"event_discount\":0,\"home_install_value\":null,\"delivery_home_value\":null,\"delivery_install_value\":null,\"use_single_group_card\":false,\"success_time\":null,\"send_single_group_card\":0,\"risk_status\":null,\"urge_shipping_time\":null,\"is_ota_virtual_card\":false}]}}";
        mvc.perform(MockMvcRequestBuilders.get("/pdd/addOrder")
                .contentType(MediaType.APPLICATION_JSON)
                .param("orderStr", orders))
                .andExpect(MockMvcResultMatchers.status().isOk()) //400错误请求
                .andDo(MockMvcResultHandlers.print())
                .andReturn();
    }

    @Test
    public void wxPrePay() throws Exception {

    }

    @Test
    public void setRoomNumber() throws Exception {

    }

    @Test
    public void getAllOrder() throws Exception {
        mvc.perform(MockMvcRequestBuilders.get("/pdd/getAllOrder")
                .contentType(MediaType.APPLICATION_JSON))
                .andExpect(MockMvcResultMatchers.status().isOk()) //400错误请求
                .andDo(MockMvcResultHandlers.print())
                .andReturn();
    }

    @Test
    public void getOrderFroTime() throws Exception {
        mvc.perform(MockMvcRequestBuilders.get("/pdd/getOrderForTime")
                .contentType(MediaType.APPLICATION_JSON)
                .param("startTime","1556812800")
                .param("endTime","1556899200"))
                .andExpect(MockMvcResultMatchers.status().isOk()) //400错误请求
                .andDo(MockMvcResultHandlers.print())
                .andReturn();
    }

    @Test
    public void getOrderForId() throws Exception {
        mvc.perform(MockMvcRequestBuilders.get("/pdd/getOrderForId")
                .contentType(MediaType.APPLICATION_JSON)
                .param("orderId", "1"))
                .andExpect(MockMvcResultMatchers.status().isOk()) //400错误请求
                .andDo(MockMvcResultHandlers.print())
                .andReturn();
    }
    @Test
    public void setFinance() throws Exception {
        mvc.perform(MockMvcRequestBuilders.get("/pdd/getFinance")
                .contentType(MediaType.APPLICATION_JSON))
                .andExpect(MockMvcResultMatchers.status().isOk()) //400错误请求
                .andDo(MockMvcResultHandlers.print())
                .andReturn();
    }


    @Test
    public void updateOrder()throws Exception{
        Order order = new Order();
        order.setId(362);
        order.setOrdernumber("190414-081563484912401");
        order.setSpec("海南椰棕+海绵 5cm厚,900*1900");
        order.setNickname("旈****忆");
        order.setName("匡衡");
        order.setNumber(3);
        order.setGoodsamount(50400);
        order.setGoodprice(50400);
        order.setCommission(1000);
        order.setPoundage(302);
        order.setWlprice(12000);
        order.setIssd(1);
        order.setFavoritestatus(0);
        order.setScStatus(0);
        order.setPaytime((long) 1555206652);
        order.setSctime((long) 1555811452);
        String request = new Gson().toJson(order);
        mvc.perform(MockMvcRequestBuilders.post("/pdd/updateOrder")
                .contentType(MediaType.APPLICATION_JSON)
                .content(request))
                .andExpect(MockMvcResultMatchers.status().isOk()) //400错误请求
                .andDo(MockMvcResultHandlers.print())
                .andReturn();
    }



}